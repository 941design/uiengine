nav_inset(level)
  $space-medium * level

.nav
  color $color-white
  background $color-brand-seco
  @media L_and_up
    display flex

  &__menu
    @media up_to_L
      color $color-black
      background $color-white
      border-radius .25rem
      padding $space-tiny $space-small
      font-size .85rem
      position absolute
      top $space-small
      left $space-medium
      text-decoration none
    @media L_and_up
      display none

  &__home
    text-decoration none
    color $color-white
    font-size 1.125rem
    @media up_to_L
      padding .6rem 4.5rem $space-small
      display block
      text-align center
    @media L_and_up
      display inline-block
      padding $space-medium

  &__tree
    margin 0
    list-style none
    line-height 1.8

  &__link
    display block
    color $color-white
    text-decoration none

  @media up_to_L
    &__tree
      display none

      &:target
        display block
        margin-top -2.75rem
        padding-top 2.75rem

        .nav__tree
          display block

    &__tree &__link
      padding $space-tiny nav_inset(1)
      background-color alpha($color-white, .1)

    &__tree &__tree &__link
      padding-left nav_inset(2)
      background-color alpha($color-white, .2)

    &__tree &__tree &__tree &__link
      padding-left nav_inset(3)
      background-color alpha($color-white, .3)

    &__tree &__tree &__tree &__tree &__link
      padding-left nav_inset(4)
      background-color alpha($color-white, .4)

    &__item--active > &__tree
      display block

    &__item--current > &__link
      color $color-brand-seco !important
      background-color alpha($color-white, .9) !important

  @media L_and_up
    &__tree
      display flex

    &__tree &__tree
      display none

    &__tree &__item:hover > &__tree
      display flex
      position absolute
      left 0
      right 0

    &__tree &__tree
      background-color lighten($color-dark-bg, 20)

    &__tree &__tree &__tree
      background-color lighten($color-dark-bg, 30)

    &__tree &__tree &__tree &__tree
      background-color lighten($color-dark-bg, 40)

    &__item + &__item
      margin-left $space-small

    &__link
      padding $space-small $space-medium

    & > &__tree > &__item
      background-color lighten($color-dark-bg, 10)

      &--active
      &:hover
        background-color lighten($color-dark-bg, 20)

    & > &__tree > &__item > &__link
      padding $space-medium $space-medium $space-normal
      height 100%
