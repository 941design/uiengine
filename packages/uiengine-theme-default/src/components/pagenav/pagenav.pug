include /common/navTree.pug

mixin pageNav()
  nav.pagenav
    ul.pagenav__tree
      +pagenavItem('index')
      if navigation && navigation.index
        for itemId in navigation.index.childIds
          +pagenavItem(itemId)

mixin pagenavItem(itemId)
  if item = navigation[itemId]
    - const classList = []
    - item.childIds.length ? classList.push('pagenav__item--children') : false
    - h.isCurrentPage(item) ? classList.push('pagenav__item--current') : false
    - h.isActivePage(item) ? classList.push('pagenav__item--active') : false
    - const classes = classList.join(' ')
    li.pagenav__item(class=classes)
      a(class="pagenav__link" href=h.pageLink(item))= item.title
