include /icon/icon.pug

mixin variantcode(variant)
  article.variantcode.wrap&attributes(attributes)
    .variantcode__segments
      if variant.raw
        .variantcode__segment.variantcode__segment--expanded
          header.variantcode__header(role="button")
            h3= h.t('variant.raw')
            +icon('caret-down-double').variantcode__expandicon
          .variantcode__content
            pre.variantcode__raw.hljs(lang=variant.extension)
              != h.decorateRaw(variant.raw, variant.extension)

      if variant.context
        .variantcode__segment.variantcode__segment--expanded
          header.variantcode__header(role="button")
            h3= h.t('variant.context')
            +icon('caret-down-double').variantcode__expandicon
          .variantcode__content
            pre.variantcode__context.hljs(lang="json")
              != h.decorateContext(variant.context)

      if variant.rendered
        .variantcode__segment(id=blockId)
          header.variantcode__header(role="button")
            h3= h.t('variant.rendered')
            +icon('caret-down-double').variantcode__expandicon
          .variantcode__content
            pre.variantcode__rendered.hljs(lang="html")
              != h.decorateRendered(variant.rendered)
