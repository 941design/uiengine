include /pageheader/pageheader.pug
include /variation/variation.pug

mixin component(page)
  - variationIds = component.variationIds
  section.component(id=h.dasherize(page.id))
    +pageheader(page, navigation)

    .wrap.wrap--content
      article.page__content
        !=page.content

      nav.pagenav
      ul.pagenav__tree
        for variationId in variationIds
          - variation = variations[variationId]
          li.pagenav__item
            a(class="pagenav__link" href=`#${h.dasherize(variation.id)}`)= variation.title

  section.variations
    for variationId in variationIds
      - variation = variations[variationId]
      +variation(variation)
