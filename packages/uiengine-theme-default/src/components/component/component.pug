include /pageheader/pageheader.pug
include /variant/variant.pug

mixin component(page)
  - variantIds = component.variantIds
  section.component(id=h.dasherize(page.id))
    +pageheader(page, navigation)

    .wrap.wrap--content
      article.page__content
        !=page.content

      nav.pagenav
        ul.pagenav__tree
          for variantId in variantIds
            - variant = variants[variantId]
            li.pagenav__item
              a(class="pagenav__link" href=`#${h.dasherize(variant.id)}`)= variant.title

  section.variants
    for variantId in variantIds
      - variant = variants[variantId]
      +variant(variant)
