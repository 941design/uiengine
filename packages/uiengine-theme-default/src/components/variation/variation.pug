include /variationheader/variationheader.pug
include /variationcode/variationcode.pug
include /variationpreview/variationpreview.pug

mixin variation(variation)
  article.variation(id=h.dasherize(variation.id))
    +variationheader(variation)

    if variation.content
      .wrap.wrap--content
        .variation__content
          != variation.content

    if variation.raw || variation.context || variation.rendered
      .variation__sections
        if variation.rendered
          +variationpreview(variation, true).variation__section

        if variation.raw || variation.context || variation.rendered
          +variationcode(variation, !variation.rendered).variation__section
