mixin navigation()
  nav.navigation
    ul.navigation__tree
      +navigationItem('index')
      if navigation && navigation.index
        for pageId in navigation.index.childIds
          +navigationItem(pageId)

mixin navigationItem(pageId)
  if navPage = pages[pageId]
    - const classList = []
    - navigation[pageId].childIds.length ? classList.push('navigation__item--children') : false
    - h.isCurrentPage(navPage.id) ? classList.push('navigation__item--current') : false
    - h.isActivePage(navPage.id) ? classList.push('navigation__item--active') : false
    - const classes = classList.join(' ')
    li.navigation__item(class=classes)
      a(class="navigation__link" href=h.pageLink(navPage.id))= navPage.title
