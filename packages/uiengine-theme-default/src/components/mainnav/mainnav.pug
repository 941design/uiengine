mixin mainNav()
  nav.main-nav
    .wrap.wrap--large
      a.main-nav__config(href=h.pageLink(navigation['index']))
        | #{config.name} (#{config.version})
      ul.main-nav__tree
        +mainNavItem('index')
        if navigation && navigation.index
          for itemId in navigation.index.childIds
            +mainNavItem(itemId)

mixin mainNavItem(itemId)
  if item = navigation[itemId]
    - const classList = []
    - item.childIds.length ? classList.push('main-nav__item--children') : false
    - h.isCurrentPage(item) ? classList.push('main-nav__item--current') : false
    - h.isActivePage(item) ? classList.push('main-nav__item--active') : false
    - const classes = classList.join(' ')
    li.main-nav__item(class=classes)
      a.main-nav__link(href=h.pageLink(item))= item.title
