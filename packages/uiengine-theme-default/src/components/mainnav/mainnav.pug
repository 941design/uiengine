mixin mainnav()
  nav.mainnav
    ul.mainnav__tree
      +mainnavItem('index')
      if navigation && navigation.index
        for itemId in navigation.index.childIds
          +mainnavItem(itemId)

mixin mainnavItem(itemId)
  if item = navigation[itemId]
    - const classList = []
    - item.childIds.length ? classList.push('mainnav__item--children') : false
    - h.isCurrentPage(item) ? classList.push('mainnav__item--current') : false
    - h.isActivePage(item) ? classList.push('mainnav__item--active') : false
    - const classes = classList.join(' ')
    li.mainnav__item(class=classes)
      a(class="mainnav__link" href=h.pageLink(item))= item.title
