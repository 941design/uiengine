mixin code(extension, raw, context, rendered)
  .code&attributes(attributes)
    .code__segments
      if raw
        .code__segment.code__segment--expanded
          header.code__header(role="button")
            h4.code__title= h.t('code.raw')
            +icon('caret-down-double').code__expandicon
          .code__content
            pre.code__raw.hljs(lang=extension)
              != h.decorateRaw(raw, extension)

      if context
        .code__segment.code__segment--expanded
          header.code__header(role="button")
            h4.code__title= h.t('code.context')
            +icon('caret-down-double').code__expandicon
          .code__content
            pre.code__context.hljs(lang="json")
              != h.decorateContext(context)

      if rendered
        .code__segment(id=blockId)
          header.code__header(role="button")
            h4.code__title= h.t('code.rendered')
            +icon('caret-down-double').code__expandicon
          .code__content
            pre.code__rendered.hljs(lang="html")
              != h.decorateRendered(rendered)
