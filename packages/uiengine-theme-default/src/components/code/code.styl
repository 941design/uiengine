.code
  &__segment
    .code__expandicon
      fill $color-code-header
    .code__header
      color $color-code-header
      &:hover
        color $color-code-header-hover
        .code__expandicon
          fill $color-code-header-hover

    &--expanded
      .code__header
        color $color-code-header-current
      .code__expandicon
        fill $color-code-header-current
        transform rotate(-180deg)

  &__segment:not(&--expanded) + &__segment &__header
    border-top 0

  &__header
    display flex
    align-items center
    justify-content space-between
    border 1px solid $color-border-medium
    padding $space-s $space-m
    cursor pointer
    color $color-code-header

  &__expandicon
    transition-property transform
    transition-duration $transition-duration-fast
    icon-size(1)

  &__content
    display none
    .code__segment--expanded &
      display block

  &__raw
  &__context
  &__rendered
    overflow-x auto
    font-family $font-family-code
    font-size $font-size-s
    // defaults, will be overriden by hljs
    color $color-code-text
    background-color $color-code-bg
    // use important to override hljs styling which differs per theme
    padding $space-m !important
