include /variantheader/variantheader.pug
include /variantcode/variantcode.pug
include /variantpreview/variantpreview.pug

mixin variant(variant, includeDetails)
  article.variant(id=h.dasherize(variant.id))
    +variantheader(variant, includeDetails)

    if variant.content
      .wrap.wrap--content
        .variant__content
          != variant.content

    if variant.raw || variant.context || variant.rendered
      .variant__sections
        if variant.rendered
          +variantpreview(variant, true).variant__section

        if variant.raw || variant.context || variant.rendered
          +variantcode(variant, !variant.rendered).variant__section
