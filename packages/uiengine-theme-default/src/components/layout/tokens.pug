extends layout.pug

include /contentheader/contentheader.pug
include /tokens/tokens.pug

block main
  - const navigationItem = navigation[navigationId]
  - const page = pages[navigationItem.itemId]
  - const { tokens } =  page
  - const categories = tokens[0].type === 'category' ? tokens : [{ tokens }]

  section.page(id=h.dasherize(page.id))
    +contentheader(page.title).sob-m

    if page.content
      article.content
        != page.content

    each category in categories
      if category.name
        +contentheader(category.name, 'h2').sot-xl.sob-m
      +tokens(category.tokens).sot-m
