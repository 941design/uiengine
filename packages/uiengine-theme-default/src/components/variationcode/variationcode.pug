mixin variationcode(variation, active)
  - const id = `${h.dasherize(variation.id)}-code`
  - const classes = active ? 'variation__section--active' : null
  .variationcode(id=id class=classes)&attributes(attributes)
    .wrap.wrap--content
      if variation.raw
        - const blockId = `${h.dasherize(variation.id)}-raw`
        header.variationcode__header
          h3= h.t('Code')
          button.variationcode__toggle.variationcode__toggle--active(type="button" data-block-target=blockId)
            +icon('caret-right-double')
        .variationcode__block.variationcode__block--active(id=blockId)
          pre.variationcode__raw.hljs(lang=variation.extension)
            != h.decorateRaw(variation.raw, variation.extension)

      if variation.context
        - const blockId = `${h.dasherize(variation.id)}-context`
        header.variationcode__header
          h3= h.t('Daten')
          button.variationcode__toggle.variationcode__toggle--active(type="button" data-block-target=blockId)
            +icon('caret-right-double')
        .variationcode__block.variationcode__block--active(id=blockId)
          pre.variationcode__context.hljs(lang="json")
            != h.decorateContext(variation.context)

      if variation.rendered
        - const blockId = `${h.dasherize(variation.id)}-rendered`
        header.variationcode__header
          h3= h.t('HTML')
          button.variationcode__toggle(type="button" data-block-target=blockId)
            +icon('caret-right-double')
        .variationcode__block(id=blockId)
          pre.variationcode__rendered.hljs(lang="html")
            != h.decorateRendered(variation.rendered)
